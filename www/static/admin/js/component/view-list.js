define("component/view-list",["common/util"],function(t){"use strict";function i(t){t=t||$(document);var i=t.find('[data-component="'+o+'"]');i.each(function(t,i){var o=$(i).attr("data-id")||0,a=$(i).attr("data-pk")||"id";$(i).on("click",function(){n(this,o,a,$(this).attr("data-action"))})})}function n(t,i,n,o){if(o=o||"viewList",!i)return!1;switch(null==n&&(n="id"),o){case"preview":var a={};a.id=i,$.ajax({url:APP+"?"+VAR_MODULE+"="+CURR_MODULE+"&"+VAR_CONTROLLER+"="+CURR_CONTROLLER+"&"+VAR_ACTION+"="+o+"&"+n+"="+i,type:"POST",cache:!1,data:a,dataType:"json",success:function(t){if(console.log(t),0==t.isErr){var i="http://m.meijiabang.cn/#!"+t.obj_type+"/"+t.obj_id;console.log(i),window.open(i,"","width=375,height=667")}else $.toast(t.content)}});break;default:var e=function(){location.href=APP+"?"+VAR_MODULE+"="+CURR_MODULE+"&"+VAR_CONTROLLER+"="+CURR_CONTROLLER+"&"+VAR_ACTION+"="+o+"&"+n+"="+i};setTimeout(e,1)}}var o=(t("common/util"),"view-list");return i});