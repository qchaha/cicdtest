webpackJsonp([192],{Ds34:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list",data:function(){return{api:{path:"/boss/userasset/coin/coin/find-list",params:{fields:"{id,uid,user{user_name},obj_id,obj_type,amount,rest_amount,create_time,admin_id}"}},pageInfoApi:{path:"/boss/userasset/coin/coin/list-page-info",params:{}},columns:[{title:"编号",key:"id"},{title:"UID",key:"uid"},{title:"用户名",key:"user",render:function(e,t){return e("div",{},t.row.user.user_name)}},{title:"操作行为",key:"obj_type"},{title:"行为ID",key:"obj_id"},{title:"金币增减数量",key:"amount"},{title:"金币余额",key:"rest_amount"},{title:"操作时间",key:"create_time"},{title:"操作人",key:"admin_id"},{title:"操作",key:"action",render:function(e,t){var a=[],i=[{name:"查看详情",handle:function(){window.open("/backend/#/user-asset/coin/coin/detail/"+t.row.id)}}];return t.row.amount>0&&i.push({name:"扣除金币",handle:function(){location.hash="/user-asset/coin/coin/edit/"+t.row.id}}),i.map(function(t){a.push(e("i-button",{props:{type:"text",size:"small"},on:{click:function(){t.handle()}}},[e("span",{style:{color:"#39f"}},t.name)]))}),e("div",a)}}],responseHandle:function(e){for(var t in e.data)e.data[t].user_name=e.data[t].user.user_name,e.data[t].admin_id=0==e.data[t].admin_id?"":e.data[t].admin_id,e.data[t].create_time=new Date(1e3*parseInt(e.data[t].create_time)).toLocaleString().replace(/:\d{1,2}$/," ");return e},searchCondition:{uid:"",obj_type:"",obj_id:"",start_time:"",end_time:"",admin_id:"",admin_name:""},searchConditionHandle:function(e){return e.start_time&&"number"!=typeof e.start_time&&(e.start_time=Date.parse(e.start_time)),e.end_time&&"number"!=typeof e.end_time&&(e.end_time=Date.parse(e.end_time)),e}}},methods:{addCoin:function(){location.hash="/user-asset/coin/coin/add"},minusCoin:function(){location.hash="/user-asset/coin/coin/minus"}}}},Hlvt:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,"response-handle":e.responseHandle,"page-info-path":e.pageInfoApi.path,"page-info-params":e.pageInfoApi.params}},[a("m-action-bar",[a("Button",{attrs:{type:"primary"},on:{click:e.addCoin}},[e._v("发放金币")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.minusCoin}},[e._v("扣除金币")])],1),e._v(" "),a("m-action-bar",{attrs:{slot:"search"},slot:"search"},[a("m-action-search-bar",{attrs:{"search-condition":e.searchCondition,"search-condition-handle":e.searchConditionHandle}},[a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"用户ID"},model:{value:e.searchCondition.uid,callback:function(t){e.$set(e.searchCondition,"uid",t)},expression:"searchCondition.uid"}})],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"操作行为"},model:{value:e.searchCondition.obj_type,callback:function(t){e.$set(e.searchCondition,"obj_type",t)},expression:"searchCondition.obj_type"}})],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"行为ID"},model:{value:e.searchCondition.obj_id,callback:function(t){e.$set(e.searchCondition,"obj_id",t)},expression:"searchCondition.obj_id"}})],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.searchCondition.start_time,callback:function(t){e.$set(e.searchCondition,"start_time",t)},expression:"searchCondition.start_time"}})],1),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("m-form-item",[a("Date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:e.searchCondition.end_time,callback:function(t){e.$set(e.searchCondition,"end_time",t)},expression:"searchCondition.end_time"}})],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"操作人ID"},model:{value:e.searchCondition.admin_id,callback:function(t){e.$set(e.searchCondition,"admin_id",t)},expression:"searchCondition.admin_id"}})],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"操作人"},model:{value:e.searchCondition.admin_name,callback:function(t){e.$set(e.searchCondition,"admin_name",t)},expression:"searchCondition.admin_name"}})],1)],1)],1)],1)},staticRenderFns:[]}},mpV5:function(e,t,a){var i=a("VU/8")(a("Ds34"),a("Hlvt"),null,null);e.exports=i.exports}});