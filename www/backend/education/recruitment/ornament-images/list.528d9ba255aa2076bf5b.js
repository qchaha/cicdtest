webpackJsonp([247],{URfq:function(t,e,i){var a=i("VU/8")(i("dLIw"),i("uTz+"),null,null);t.exports=a.exports},dLIw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("qN3K"),n=i.n(a);e.default={components:{MFormItem:n.a},name:"list",data:function(){return{api:{path:"/boss/education/recruitment/ornament-images/find-list",params:{fields:"{id,title,identity,image_path,start_time,create_time,update_time,status,image_id,uid,end_time}"}},pageInfoApi:{path:"/boss/education/recruitment/ornament-images/list-page-info",params:{fields:{}}},columns:[{title:"活动ID",key:"id"},{title:"活动名称",key:"title"},{title:"用户身份",key:"identity",render:function(t,e){var i=void 0;switch(e.row.identity){case 0:default:i="无身份";break;case 1:i="招聘者";break;case 2:i="求职者";break;case 3:i="全量"}return t("div",[t("p",i)])}},{title:"开始时间",key:"start_time"},{title:"结束时间",key:"end_time"},{title:"活动状态",key:"activity_status"},{title:"操作",key:"action",render:function(t,e){return t("m-action-list",{props:{list:[{text:"编辑",click:function(){location.hash="/education/recruitment/ornament-images/edit/"+e.row.id}},{text:"删除",color:"#f57",click:function(){confirm("确认删除?")&&vm.$Util.api.delete({api:{path:"/boss/education/recruitment/ornament-images/delete",params:{id:e.row.id}},loading:!0})}}]}})}}],methods:{toAddOrnamentImage:function(){location.hash="/education/recruitment/ornament-images/add"}},responseHandle:function(t,e){null===t.data||t.data;return t.data.map(function(t){var i=(new Date).valueOf()/1e3;return t.start_time>i?t.activity_status="未开始":t.end_time<i?t.activity_status="已结束":t.activity_status="进行中",t.start_time=e.$Util.dateFormat(t.start_time,"yyyy-MM-dd"),t.end_time=e.$Util.dateFormat(t.end_time,"yyyy-MM-dd"),t}),t},searchCondition:{title:"",activity_time:[],start_time:"",end_time:""},searchConditionHandle:function(t){return t[t.select]=t.keyword,t.activity_time&&(t.activity_time[0]&&"number"!=typeof t.activity_time[0]?t.start_time=Date.parse(t.activity_time[0])/1e3:t.start_time=0,t.activity_time[1]&&"number"!=typeof t.activity_time[1]?(t.end_time=Date.parse(t.activity_time[1])/1e3,t.end_time=t.end_time+86400-1):t.end_time=0),t}}}}},"uTz+":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("m-page-list",{attrs:{path:t.api.path,params:t.api.params,columns:t.columns,"page-info-path":t.pageInfoApi.path,"response-handle":t.responseHandle,"page-info-params":t.pageInfoApi.params}},[i("m-action-bar",[i("Button",{attrs:{type:"primary"},on:{click:t.methods.toAddOrnamentImage}},[t._v("新增")])],1),t._v(" "),i("m-action-bar",{attrs:{slot:"search"},slot:"search"},[i("m-action-search-bar",{attrs:{"search-condition":t.searchCondition,"search-condition-handle":t.searchConditionHandle}},[i("m-form-item",[i("Date-picker",{attrs:{type:"daterange",placeholder:"请选择活动时间"},model:{value:t.searchCondition.activity_time,callback:function(e){t.$set(t.searchCondition,"activity_time",e)},expression:"searchCondition.activity_time"}})],1),t._v(" "),i("m-form-item",[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入活动名称"},model:{value:t.searchCondition.title,callback:function(e){t.$set(t.searchCondition,"title",e)},expression:"searchCondition.title"}})],1)],1)],1)],1)},staticRenderFns:[]}}});