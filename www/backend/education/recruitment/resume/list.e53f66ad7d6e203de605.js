webpackJsonp([242],{"0q8y":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list",computed:{api:function(){var e={path:"/boss/education/recruitment/resume/find-list",params:{fields:"{id,full_name,is_male,status,career_length,update_time,skills,completion_percent,avatar{s(w:80){url}},creator{uid,nickname},opus_images{s(w:80){url}},tags{name},expected_job{name,salary,property,location{province,city,district}}}"}};return e.params.uid=this.$route.params.uid||0,e}},data:function(){return{searchCondition:{update_times:[],region:[],province_id:0,city_id:0,district_id:0,start_time:"",end_time:"",keyword:"",select:"",id:0,full_name:"",job:"",uid:0,nickname:""},regions:[],addRoute:"/education/recruitment/resume/add",pageInfoApi:{path:"/boss/education/recruitment/resume/list-page-info",params:{}},columns:[{title:"简历id",key:"id"},{title:"简历姓名",key:"full_name"},{title:"自拍照",key:"avatar",render:function(e,t){return e("img",{style:{width:"200px",padding:"20px 0 20px 0"},attrs:{src:t.row.avatar.s.url}})}},{title:"用户id & 用户昵称",key:"creator",render:function(e,t){return t.row.creator?e("div",[e("p",t.row.creator.uid),e("p",t.row.creator.nickname)]):""}},{title:"工作经验",key:"career_length"},{title:"期望工作信息",key:"expected_job",render:function(e,t){return e("div",[e("p",t.row.expected_job.name),e("p",t.row.expected_job.property),e("p",t.row.expected_job.salary)])}},{title:"期望工作地区",key:"expected_job",render:function(e,t){return e("div",[e("p",t.row.expected_job.location.province),e("p",t.row.expected_job.location.city),e("p",t.row.expected_job.location.district)])}},{title:"简历作品",key:"opus_images",width:200,render:function(e,t){var i=[];if(t.row.opus_images)for(var a in t.row.opus_images){if(a>2)break;i.push(e("img",{style:{width:"50px",padding:"0 10px"},attrs:{src:t.row.opus_images[a].s.url}}))}return e("div",i)}},{title:"擅长",key:"skills",render:function(e){return e.skills?e.skills.join(","):""}},{title:"资料完成度",key:"completion_percent"},{title:"求职时间",key:"update_time"},{title:"操作",key:"action",render:function(e,t){return e("m-action-list",{props:{list:[{text:"编辑",click:function(){location.hash="/education/recruitment/resume/edit/"+t.row.id}},{text:"删除",color:"#f57",click:function(){confirm("确认删除?")&&vm.$Util.api.delete({api:{path:"/boss/education/recruitment/resume/delete",params:{id:t.row.id}},loading:!0})}}]}})}}],responseHandle:function(e,t){return e.data.map(function(e){return e.update_time=t.$Util.dateFormat(e.update_time,"yyyy-MM-dd hh:mm:ss"),e}),e},searchConditionHandle:function(e){return e[e.select]=e.keyword,e.update_times&&(e.update_times[0]&&"number"!=typeof e.update_times[0]?e.start_time=Date.parse(e.update_times[0])/1e3:e.start_time=0,e.update_times[1]&&"number"!=typeof e.update_times[1]?(e.end_time=Date.parse(e.update_times[1])/1e3,e.end_time=e.end_time+86400-1):e.end_time=0),e.region&&(e.province_id=e.region[0],e.city_id=e.region[1],e.district_id=e.region[2]),e}}},methods:{handlePageInfoSuccess:function(e){var t=[];for(var i in e.data.filter.regions){var a=e.data.filter.regions[i],r={value:a.area_code,label:a.name,children:[]};for(var n in a.cities){var o=a.cities[n],s={value:o.area_code,label:o.name,children:[]};for(var d in o.areas){var c=o.areas[d],l={value:c.area_code,label:c.name};s.children.push(l)}r.children.push(s)}t.push(r)}e.data.filter.regions=t,this.regions=t}}}},aLSQ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,"response-handle":e.responseHandle,"page-info-path":e.pageInfoApi.path,"page-info-params":e.pageInfoApi.params},on:{"on-page-info-success":e.handlePageInfoSuccess}},[i("m-action-bar",[i("m-action-button-add",{attrs:{route:e.addRoute}})],1),e._v(" "),i("m-action-bar",{attrs:{slot:"search"},slot:"search"},[i("m-action-search-bar",{attrs:{"search-condition":e.searchCondition,"search-condition-handle":e.searchConditionHandle}},[i("m-form-item",[i("Date-picker",{attrs:{type:"daterange",placeholder:"求职时间"},model:{value:e.searchCondition.update_times,callback:function(t){e.$set(e.searchCondition,"update_times",t)},expression:"searchCondition.update_times"}})],1),e._v(" "),i("m-form-item",[i("Cascader",{staticStyle:{width:"300px"},attrs:{data:e.regions,trigger:"hover"},model:{value:e.searchCondition.region,callback:function(t){e.$set(e.searchCondition,"region",t)},expression:"searchCondition.region"}})],1),e._v(" "),i("m-form-item",[i("Input",{model:{value:e.searchCondition.keyword,callback:function(t){e.$set(e.searchCondition,"keyword",t)},expression:"searchCondition.keyword"}},[i("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.searchCondition.select,callback:function(t){e.$set(e.searchCondition,"select",t)},expression:"searchCondition.select"}},[i("Option",{attrs:{value:"id"}},[e._v("简历ID")]),e._v(" "),i("Option",{attrs:{value:"full_name"}},[e._v("简历姓名")]),e._v(" "),i("Option",{attrs:{value:"job"}},[e._v("期望职位")]),e._v(" "),i("Option",{attrs:{value:"uid"}},[e._v("用户ID")]),e._v(" "),i("Option",{attrs:{value:"nickname"}},[e._v("用户昵称")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},awVm:function(e,t,i){var a=i("VU/8")(i("0q8y"),i("aLSQ"),null,null);e.exports=a.exports}});