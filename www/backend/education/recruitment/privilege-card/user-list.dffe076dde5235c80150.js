webpackJsonp([243],{"+rmP":function(e,t,i){var r=i("VU/8")(i("ZYCs"),i("4BEG"),null,null);e.exports=r.exports},"4BEG":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,"page-info-path":e.pageInfoApi.path,"response-handle":e.responseHandle,"page-info-params":e.pageInfoApi.params}},[i("m-action-bar",[i("Button",{attrs:{type:"primary"},on:{click:e.methods.toAddPrivilegeCard}},[e._v("发放")]),e._v(" "),i("Button",{attrs:{type:"primary"},on:{click:e.methods.toConsumePrivilegeCard}},[e._v("使用")])],1),e._v(" "),i("m-action-bar",{attrs:{slot:"search"},slot:"search"},[i("m-action-search-bar",{attrs:{"search-condition":e.searchCondition,"search-condition-handle":e.searchConditionHandle}},[i("m-form-item",[i("Input",{model:{value:e.searchCondition.keyword,callback:function(t){e.$set(e.searchCondition,"keyword",t)},expression:"searchCondition.keyword"}},[i("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.searchCondition.select,callback:function(t){e.$set(e.searchCondition,"select",t)},expression:"searchCondition.select"}},[i("Option",{attrs:{value:"uid"}},[e._v("用户ID")]),e._v(" "),i("Option",{attrs:{value:"nickname"}},[e._v("用户昵称")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},ZYCs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list",data:function(){return{api:{path:"/boss/education/recruitment/privilege-card/find-user-list",params:{fields:"{user{uid,nickname,recruitment_related{identity,last_visited_time,valid_cards_count}},privilege_cards{name,code,available_count}}"}},pageInfoApi:{path:"/boss/education/recruitment/privilege-card/user-list-page-info",params:{fields:"{categories{name,code}}"}},columns:[{title:"用户的昵称 & UID",key:"user",render:function(e,t){return t.row.user?e("div",[e("p",t.row.user.uid),e("p",t.row.user.nickname)]):""}},{title:"用户身份",key:"recruitment_related",render:function(e,t){var i=void 0;switch(t.row.recruitment_related.identity){case 0:default:i="无身份";break;case 1:i="招聘者";break;case 2:i="求职者"}return e("div",[e("p",i)])}},{title:"进入招聘时间",key:"last_visited_time",sortable:!0,render:function(e,t){return e("div",[e("p",t.row.last_visited_time)])}},{title:"有效特权卡数",key:"valid_cards_count",sortable:!0,render:function(e,t){return e("div",[e("p",t.row.valid_cards_count)])}},{title:"特权卡详情",key:"privilege_cards",align:"right",render:function(e,t){var i=[];return t.row.privilege_cards.map(function(t){i.push(e("div",[e("span",t.name),e("span",t.available_count)]))}),e("div",[e("div",{},i)])}},{title:"操作",key:"action",render:function(e,t){return e("m-action-list",{props:{list:[{text:"查看店铺",disabled:1!==t.row.recruitment_related.identity,click:function(){location.hash="/education/recruitment/company/list/"+t.row.user.uid}},{text:"查看简历",color:"#f5a623",disabled:2!==t.row.recruitment_related.identity,click:function(){location.hash="/education/recruitment/resume/list/"+t.row.user.uid}}]}})}}],methods:{toAddPrivilegeCard:function(){location.hash="/education/recruitment/privilege-card/add"},toConsumePrivilegeCard:function(){location.hash="/education/recruitment/privilege-card/edit"}},responseHandle:function(e,t){null===e.data||e.data;return e.data.map(function(e){return null!==e.user?(e.recruitment_related=e.user.recruitment_related,e.last_visited_time=e.recruitment_related.last_visited_time?t.$Util.dateFormat(e.recruitment_related.last_visited_time,"yyyy-MM-dd hh:mm:ss"):"",e.valid_cards_count=e.recruitment_related.valid_cards_count):(e.recruitment_related=null,e.last_visited_time=null,e.valid_cards_count=null),e}),e},searchCondition:{uid:0,nickname:""},searchConditionHandle:function(e){return e[e.select]=e.keyword,e}}}}}});