webpackJsonp([235],{H8j1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={add:{api:{path:"/boss/education/school/hot-lesson/add"}}},a=null;e.default={name:"app",data:function(){return{api:{path:"/boss/education/school/hot-lesson/find-list",params:{fields:"{id,title,hot_ordering,school_id}"}},sortInfoApi:{path:"/boss/education/school/hot-lesson/sort"},sortable:!0,pageInfoApi:{path:"/boss/education/school/hot-lesson/list-page-info",params:{}},newId:"",regions:[],columns:[{title:"课程id",key:"id"},{title:"课程名称",key:"title"},{title:"操作",key:"action",render:function(t,e){var n=[];return[{name:"编辑",handle:function(){location.hash="/education/school/lesson/edit/"+e.row.school_id+"/"+e.row.id}},{name:"从热门课程移除",handle:function(){confirm("确认移除?")&&(bus.$emit("on-loading"),vm.$Util.api.delete({api:{path:"/boss/education/school/hot-lesson/delete",params:{id:e.row.id}}},vm).then(function(){location.reload()},function(t){alert(t)}))}}].map(function(e){n.push(t("i-button",{props:{type:"text",size:"small"},on:{click:function(){e.handle()}}},[t("span",{style:{color:"#39f"}},e.name)]))}),t("div",n)}}],responseHandle:function(t,e){return t},searchConditionHandle:function(t){return a.sortable=""==t.name,t},searchCondition:{name:""}}},methods:{handleSubmit:function(){if(""===this.newId||"0"===this.newId)return this.$Notice.warning({title:"课程ID不能为空",desc:""}),!1;if(!isNaN(this.newId)){bus.$emit("on-loading");var t={id:this.newId};vm.$Util.api.post(o.add,t,vm).then(function(){location.reload()},function(){})}}},created:function(){a=this}}},LMmu:function(t,e,n){var o=n("VU/8")(n("H8j1"),n("eMEj"),null,null);t.exports=o.exports},eMEj:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("m-page-list",{attrs:{path:t.api.path,params:t.api.params,columns:t.columns,"sort-key":"hot_ordering","sort-index":3,sortable:"","sort-path":t.sortInfoApi.path,sortable:t.sortable,methods:t.methods,"response-handle":t.responseHandle,"page-info-path":t.pageInfoApi.path,"page-info-params":t.pageInfoApi.params}},[n("m-action-bar",[n("Input",{staticStyle:{width:"250px"},attrs:{placeholder:"输入新增课程ID"},model:{value:t.newId,callback:function(e){t.newId=e},expression:"newId"}}),n("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("新增")])],1),t._v(" "),n("m-action-bar",{attrs:{slot:"search"},slot:"search"},[n("m-action-search-bar",{attrs:{"search-condition":t.searchCondition,"search-condition-handle":t.searchConditionHandle}},[n("m-form-item",{attrs:{label:""}},[n("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入名称搜索"},model:{value:t.searchCondition.name,callback:function(e){t.$set(t.searchCondition,"name",e)},expression:"searchCondition.name"}})],1)],1)],1)],1)},staticRenderFns:[]}}});