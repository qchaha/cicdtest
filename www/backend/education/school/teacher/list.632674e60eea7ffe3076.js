webpackJsonp([231],{"1MLH":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,methods:e.methods,"response-handle":e.responseHandle,"page-info-path":e.pageInfoApi.path,"page-info-params":e.pageInfoApi.params},on:{"on-page-info-success":e.handleListPageInfoSuccess}},[a("m-action-bar",[a("m-action-button-add",{attrs:{route:e.addRoute}})],1),e._v(" "),a("m-action-bar",{attrs:{slot:"search"},slot:"search"},[a("m-action-search-bar",{attrs:{"search-condition":e.searchCondition}},[a("m-form-item",{attrs:{label:"教师类型"}},[a("i-select",{staticStyle:{width:"260px"},model:{value:e.searchCondition.type,callback:function(t){e.$set(e.searchCondition,"type",t)},expression:"searchCondition.type"}},e._l(e.searchTypeSource,function(t,o){return a("i-option",{attrs:{value:o}},[e._v(e._s(t))])}))],1),e._v(" "),a("m-form-item",{attrs:{label:""}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入名称搜索"},model:{value:e.searchCondition.name,callback:function(t){e.$set(e.searchCondition,"name",t)},expression:"searchCondition.name"}})],1)],1)],1)],1)},staticRenderFns:[]}},C1x6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",data:function(){return{searchTypeSource:{},searchCondition:{type:"",name:""},addRoute:"/education/school/teacher/add",api:{path:"/boss/education/school/teacher/find-list",params:{fields:'{type,typeName,id,name,title,avatar{s(w:40,h:40){url(protocol:"https"),width,height}},author{uid,nickname,verified_type,verified_desc,cpma,avatar{s(w:40,h:40){url(protocol:"https"),width,height}}}}'}},pageInfoApi:{path:"/boss/education/school/teacher/list-page-info",params:{}},columns:[{title:"教师id",key:"id"},{title:"教师头像",key:"avatar",render:function(e,t){return e("img",{attrs:{src:t.row.avatar.s.url}})}},{title:"教师名称",key:"name"},{title:"教师来源",key:"typeName"},{title:"教师职称",key:"title"},{title:"操作",key:"action",render:function(e,t){return e("div",[e("i-button",{props:{type:"text",size:"small"},on:{click:function(){location.hash="/education/school/teacher/edit/"+t.row.id}}},[e("span",{style:{color:"#39f"}},"编辑")]),e("i-button",{props:{type:"text",size:"small"},on:{click:function(){location.hash="/education/courses/teacher/"+t.row.id+"/teacher-course/list"}}},[e("span",{style:{color:"#3e98ff"}},"查看课程")]),e("i-button",{props:{type:"text",size:"small"},on:{click:function(){confirm("确认删除?")&&(bus.$emit("on-loading"),vm.$Util.api.delete({api:{path:"/boss/education/school/teacher/delete",params:{teacherId:t.row.id}}},vm).then(function(){location.reload()},function(e){}))}}},[e("span",{style:{color:"#ff5151"}},"删除")])])}}],methods:{},responseHandle:function(e){return null===e.data&&(e.data=[]),e}}},methods:{handleListPageInfoSuccess:function(e){this.searchTypeSource=e.data.filter.type}}}},vTJK:function(e,t,a){var o=a("VU/8")(a("C1x6"),a("1MLH"),null,null);e.exports=o.exports}});