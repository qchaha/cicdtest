webpackJsonp([260],{DHDZ:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("m-page-list",{attrs:{path:t.api.path,params:t.api.params,columns:t.columns,"response-handle":t.responseHandle,"page-info-path":t.pageInfoApi.path,"page-info-params":t.pageInfoApi.params}},[e("m-action-bar",[e("m-action-button-add",{attrs:{route:t.addRoute}})],1),t._v(" "),e("m-action-bar",{attrs:{slot:"search"},slot:"search"},[e("m-action-search-bar",{attrs:{"search-condition":t.searchCondition}},[e("m-form-item",{attrs:{label:""}},[e("i-select",{staticStyle:{width:"120px"},model:{value:t.searchCondition.position_id,callback:function(a){t.$set(t.searchCondition,"position_id",a)},expression:"searchCondition.position_id"}},[e("i-option",{attrs:{value:0}},[t._v("全部")]),t._v(" "),e("i-option",{attrs:{value:1}},[t._v("美图6")]),t._v(" "),e("i-option",{attrs:{value:2}},[t._v("美图11")])],1)],1),t._v(" "),e("m-form-item",{attrs:{label:""}},[e("Input",{staticStyle:{width:"160px"},attrs:{placeholder:"输入名称搜索"},model:{value:t.searchCondition.name,callback:function(a){t.$set(t.searchCondition,"name",a)},expression:"searchCondition.name"}})],1)],1)],1)],1)},staticRenderFns:[]}},piIy:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"list",data:function(){return{addRoute:"/common/simulation-advertising/ad/add",api:{path:"/boss/common/simulation-advertising/ad/find-list",params:{fields:"{id,name,position{id,name},top_start_time,top_end_time,start_time,end_time}"}},pageInfoApi:{path:"/boss/common/simulation-advertising/ad/list-page-info",params:{}},columns:[{title:"ID",key:"id"},{title:"名称",key:"name"},{title:"位置",key:"position_name"},{title:"投放时间",key:"show_time",width:180,render:function(t,a){return t("div",[t("p",a.row.start_time+" - "+a.row.end_time)])}},{title:"是否置顶",key:"has_top_time"},{title:"置顶时间",key:"top_time",width:180,render:function(t,a){return t("div",[t("p",0===a.row.top_start_time?"/":a.row.top_start_time+" - "+a.row.top_end_time)])}},{title:"操作",key:"action",render:function(t,a){var e=[];return[{name:"编辑",handle:function(){location.hash="/common/simulation-advertising/ad/edit/"+a.row.id}},{name:"删除",handle:function(){confirm("确认删除?")&&(bus.$emit("on-loading"),vm.$Util.api.delete({api:{path:"/boss/common/simulation-advertising/ad/delete",params:{id:a.row.id}}},vm).then(function(){location.reload()},function(t){alert(t)}))}}].map(function(a){e.push(t("i-button",{props:{type:"text",size:"small"},on:{click:function(){a.handle()}}},[t("span",{style:{color:"#39f"}},a.name)]))}),t("div",e)}}],responseHandle:function(t,a){for(var e in t.data)t.data[e].start_time=a.$Util.dateFormat(t.data[e].start_time,"yyyy-MM-dd hh:mm:ss"),t.data[e].end_time=a.$Util.dateFormat(t.data[e].end_time,"yyyy-MM-dd hh:mm:ss"),0!==t.data[e].top_start_time&&0!==t.data[e].top_end_time?(t.data[e].top_start_time=a.$Util.dateFormat(t.data[e].top_start_time,"yyyy-MM-dd hh:mm:ss"),t.data[e].top_end_time=a.$Util.dateFormat(t.data[e].top_end_time,"yyyy-MM-dd hh:mm:ss"),t.data[e].has_top_time="是"):t.data[e].has_top_time="否",t.data[e].position_name=t.data[e].position.name;return t},searchCondition:{name:"",position_id:""}}}}},rfGX:function(t,a,e){var i=e("VU/8")(e("piIy"),e("DHDZ"),null,null);t.exports=i.exports}});