webpackJsonp([261],{QE0X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list",data:function(){return{addRoute:"/common/banner/banner/add",api:{path:"/boss/common/banner/banner/find-list",params:{fields:"{id,pos_code,positions{name,pos_code},name,begin_time,end_time,statistics{impressions,clicks,click_through_rate}}",limit:24}},positions:[],pageInfoApi:{path:"/boss/common/banner/banner/list-page-info",params:{fields:"{positions{id,pos_code,name}}"}},columns:[{title:"活动id",key:"id"},{title:"活动类型编码",key:"positions",render:function(e,t){return e("div",t.row.positions?t.row.positions.name:"")}},{title:"活动名称",key:"name"},{title:"开始时间",key:"begin_time"},{title:"结束时间",key:"end_time"},{title:"曝光量",key:"impressions",render:function(e,t){return e("div",t.row.statistics?t.row.statistics.impressions:"-")}},{title:"点击量",key:"clicks",render:function(e,t){return e("div",t.row.statistics?t.row.statistics.clicks:"-")}},{title:"点击率",key:"click_through_rate",render:function(e,t){return e("div",t.row.statistics?t.row.statistics.click_through_rate+"%":"-")}},{title:"操作",key:"action",render:function(e,t){return e("div",[e("i-button",{props:{type:"text",size:"small"},on:{click:function(){location.hash="/common/banner/banner/edit/"+t.row.id}}},[e("span",{style:{color:"#39f"}},"编辑")]),e("i-button",{props:{type:"text",size:"small"},on:{click:function(){confirm("确认删除?")&&vm.$Util.api.delete({api:{path:"/boss/common/banner/banner/delete",params:{id:t.row.id}},loading:!0})}}},[e("span",{style:{color:"#39f"}},"删除")])])}}],searchCondition:{name:"",begin_time:0,end_time:0,pos_code:""},responseHandle:function(e,t){return e.data.map(function(e){e.begin_time=e.begin_time?t.$Util.dateFormat(e.begin_time,"yyyy-MM-dd<br>hh:mm:ss"):"",e.end_time=e.end_time?t.$Util.dateFormat(e.end_time,"yyyy-MM-dd<br>hh:mm:ss"):""}),e},searchConditionHandle:function(e){return e.begin_time&&"number"!=typeof e.begin_time?e.begin_time=Date.parse(e.begin_time):e.begin_time=0,e.end_time&&"number"!=typeof e.end_time?e.end_time=Date.parse(e.end_time):e.end_time=0,e}}},methods:{handlePageInfoSuccess:function(e){this.positions=e.data.filter.positions}}}},eTJf:function(e,t,n){var i=n("VU/8")(n("QE0X"),n("zVFI"),null,null);e.exports=i.exports},zVFI:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,"response-handle":e.responseHandle,"page-info-path":e.pageInfoApi.path,"page-info-params":e.pageInfoApi.params},on:{"on-page-info-success":e.handlePageInfoSuccess}},[n("m-action-bar",[n("m-action-button-add",{attrs:{route:e.addRoute}})],1),e._v(" "),n("m-action-bar",{attrs:{slot:"search"},slot:"search"},[n("m-action-search-bar",{attrs:{"search-condition":e.searchCondition}},[n("m-form-item",{attrs:{label:""}},[n("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入名称搜索"},model:{value:e.searchCondition.name,callback:function(t){e.$set(e.searchCondition,"name",t)},expression:"searchCondition.name"}}),e._v(" "),n("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.searchCondition.pos_code,callback:function(t){e.$set(e.searchCondition,"pos_code",t)},expression:"searchCondition.pos_code"}},e._l(e.positions,function(t){return n("Option",{key:t.id,attrs:{value:t.pos_code}},[e._v(e._s(t.name))])}))],1)],1)],1)],1)},staticRenderFns:[]}}});