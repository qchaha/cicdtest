webpackJsonp([221],{k2xL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("m-page-edit",[o("h3",{staticStyle:{"margin-bottom":"10px"}},[t._v("批量修改产品参数")]),t._v(" "),o("Form",[o("Form-item",[o("Row",[t._v("\n                下载模板，填写后上传提交。\n            ")])],1),t._v(" "),o("Form-item",{attrs:{label:"下载模板"}},[o("Button",{staticClass:"export-btn",attrs:{type:"ghost"},on:{click:t.doExportExcel}},[t._v("下载模板")])],1),t._v(" "),o("Form-item",{attrs:{label:"上传EXCEl表"}},[o("div",[o("Upload",{attrs:{"before-upload":t.handleUpload}},[o("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("点击上传文件")]),t._v(" "),null!==t.file?o("span",[t._v("文件："+t._s(t.file.name))]):t._e(),t._v(" "),o("span",[t._v("\n                                  \n                        每次只能修改一千个商品\n                    ")])],1)],1)]),t._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary",loading:t.loadingStatus},on:{click:t.upload}},[t._v(t._s(t.loadingStatus?"提交中":"提交")+"\n            ")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.resetFile}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]}},mQ9A:function(t,e,o){var n=o("VU/8")(o("svE7"),o("k2xL"),null,null);t.exports=n.exports},svE7:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MGoodsBatchEdit",data:function(){return{file:null,loadingStatus:!1}},methods:{handleUpload:function(t){return this.file=t,!1},resetFile:function(){this.loadingStatus=!1,this.file=null},upload:function(){this.loadingStatus=!0,bus.$emit("on-loading");var t=this,e={api:{path:"/boss/mall/catalog/goods/batch-edit-attribute"}},o=new FormData;o.append("excel_file",this.file,this.file.name),this.$Util.api.post(e,o,t).then(function(t){bus.$emit("on-loading"),this.loadingStatus=!1,this.file=null,this.$Modal.success({content:t.data})},function(t){bus.$emit("on-loading"),this.loadingStatus=!1,this.$Notice.error({title:"操作结果",desc:t.message})})},doExportExcel:function(){window.open("/boss/mall/catalog/attribute/export-excel?fields={code,name,type,items,is_show}")}}}}});