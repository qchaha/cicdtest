webpackJsonp([215],{"7DRM":function(a,t,e){var n=e("VU/8")(e("NPsw"),e("jC4R"),null,null);a.exports=n.exports},NPsw:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default={name:"app",data:function(){return{addRoute:"/mall/catalog/deprecated-brand/add",api:{path:"/boss/mall/catalog/deprecated-brand/find-list",params:{fields:"{brand_id,brand_name,brand_logo(w:40,h:40){url,origin},sort_order,recommended,tag,category{bcate_name},create_time,update_time}"}},pageInfoApi:{path:"/boss/mall/catalog/deprecated-brand/list-page-info",params:{fields:"{bcate_id,bcate_name}"}},columns:[{title:"Id",key:"brand_id"},{title:"品牌名称",key:"brand_name"},{title:"品牌图标",key:"brand_logo",render:function(a,t){return a("div",[a("img",{attrs:{src:t.row.brand_logo.url,width:80,height:80}})])}},{title:"品牌分类名称",key:"category",render:function(a,t){return a("span",void 0==t.row.category.bcate_name?"":t.row.category.bcate_name)}},{title:"修改时间",key:"update_time"},{title:"操作",key:"action",render:function(a,t){return a("div",[a("i-button",{props:{type:"text",size:"small"},on:{click:function(){var a={api:{path:"/boss/mall/catalog/deprecated-brand/edit-sort-order",params:{id:t.row.brand_id,type:"up"}}};bus.$emit("on-loading"),vm.$Util.api.post(a,a.api.params,vm).then(function(a){location.reload()},function(a){})}}},[a("span",{style:{color:"#39f"}},"上移")]),a("i-button",{props:{type:"text",size:"small"},on:{click:function(){var a={api:{path:"/boss/mall/catalog/deprecated-brand/edit-sort-order",params:{id:t.row.brand_id,type:"down"}}};bus.$emit("on-loading"),vm.$Util.api.post(a,a.api.params,vm).then(function(a){location.reload()},function(a){})}}},[a("span",{style:{color:"#39f"}},"下移")]),a("i-button",{props:{type:"text",size:"small"},on:{click:function(){location.hash="/mall/catalog/deprecated-brand/edit/"+t.row.brand_id}}},[a("span",{style:{color:"#39f"}},"编辑")]),a("i-button",{props:{type:"text",size:"small"},on:{click:function(){var a={api:{path:"/boss/mall/catalog/deprecated-brand/delete",params:{id:t.row.brand_id}}};confirm("确认删除?")&&(bus.$emit("on-loading"),vm.$Util.api.delete(a,n).then(function(){location.reload()},function(a){alert(a)}))}}},[a("span",{style:{color:"red"}},"删除")])])}}],methods:{},created:function(){n=this},responseHandle:function(a,t){var e=a.data;for(var n in e)e[n].update_time>0?e[n].update_time=t.$Util.dateFormat(e[n].update_time,"yyyy-MM-dd<br>hh:mm:ss"):e[n].update_time="";return a},searchCondition:{brand_name:"",bcate_id:""},categoryInfo:[]}},methods:{handlePageInfoSuccess:function(a){this.categoryInfo=a.data.category_info,this.categoryInfo.splice(0,0,{bcate_id:"",bcate_name:"选择品牌分类"})}}}},jC4R:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("m-page-list",{attrs:{path:a.api.path,params:a.api.params,columns:a.columns,methods:a.methods,"response-handle":a.responseHandle,"page-info-path":a.pageInfoApi.path,"page-info-params":a.pageInfoApi.params},on:{"on-page-info-success":a.handlePageInfoSuccess}},[e("m-action-bar",[e("m-action-button-add",{attrs:{route:a.addRoute}})],1),a._v(" "),e("m-action-bar",{attrs:{slot:"search"},slot:"search"},[e("m-action-search-bar",{attrs:{"search-condition":a.searchCondition}},[e("m-form-item",{attrs:{label:""}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"品牌名称"},model:{value:a.searchCondition.brand_name,callback:function(t){a.$set(a.searchCondition,"brand_name",t)},expression:"searchCondition.brand_name"}})],1),a._v(" "),e("m-form-item",{attrs:{label:""}},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"品牌分类",filterable:""},model:{value:a.searchCondition.bcate_id,callback:function(t){a.$set(a.searchCondition,"bcate_id",t)},expression:"searchCondition.bcate_id"}},a._l(a.categoryInfo,function(t){return e("Option",{attrs:{value:t.bcate_id}},[a._v(a._s(t.bcate_name))])}))],1)],1)],1)],1)},staticRenderFns:[]}}});