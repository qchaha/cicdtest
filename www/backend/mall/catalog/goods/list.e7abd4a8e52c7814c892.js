webpackJsonp([7],{"/n5B":function(t,e,a){e=t.exports=a(0)(),e.push([t.i,"",""])},"1Gby":function(t,e,a){var o=a("kFsO");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("208d64bb",o,!0)},"20yu":function(t,e,a){e=t.exports=a(0)(),e.push([t.i,"",""])},"24dW":function(t,e,a){e=t.exports=a(0)(),e.push([t.i,".m-action-bar[data-v-4da7fc64]{margin-bottom:15px}.text-bold[data-v-4da7fc64]{margin-right:10px;line-height:14px;font-size:14px;font-weight:700}.page-bar[data-v-4da7fc64]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin:15px auto 0}",""])},"3d2I":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"operate-btn-group"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toEdit(e)}}},[t._v("编辑")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toSpecList(e)}}},[t._v("规格列表")])]),t._v(" "),a("li",[a("a",{attrs:{target:"_blank"},on:{click:function(e){return e.preventDefault(),t.toAddSpec(e)}}},[t._v("添加规格")])]),t._v(" "),a("li",[a("a",{attrs:{target:"_blank",href:t.allQuestion}},[t._v("大家都在问")])]),t._v(" "),a("li",[a("a",{attrs:{target:"_blank"},on:{click:function(e){return e.preventDefault(),t.toProductParam(e)}}},[t._v("产品参数")])]),t._v(" "),a("li",[a("a",{attrs:{target:"_blank"},on:{click:function(e){return e.preventDefault(),t.toExtraAction(e)}}},[t._v("购买后行为")])])])},staticRenderFns:[]}},"4+54":function(t,e,a){var o=a("20yu");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("60c9fd06",o,!0)},"4V4p":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MSearch",props:{searchParams:{type:Object,default:function(){return{shelf_status:1,goods_id:"",goods_name:"",sku:"",brand_id:[],category_id:[],cate_id:[],operator_id:"",add_time:[],addTime:[],can_use_coupon:null,recommended:null,is_private:null,is_free_shipment:null,start_time:[],startTime:[],is_daily:null}}},baseBrandOptions:{type:Array,default:function(){return[]}},baseCategoryOptions:{type:Array,default:function(){return[]}}},data:function(){return{statusOptions:[{value:1,label:"上架"},{value:0,label:"下架"},{value:-1,label:"废弃"}],couponOptions:[{value:1,label:"可用券"},{value:0,label:"不可用券"}],topOptions:[{value:1,label:"置顶"},{value:0,label:"非置顶"}],visibleOptions:[{value:1,label:"可见"},{value:0,label:"不可见"}],freeShipmentOptions:[{value:1,label:"包邮"},{value:0,label:"不包邮"}],isDailyOptions:[{value:1,label:"是"},{value:0,label:"否"}],categoryOptions:[],operatorOptions:[],showPart:!0,loadingCategories:!1,deprecatedCategoryOptionsApi:{api:{path:"/boss/mall/catalog/deprecated-category/find-list",params:{offset:0,limit:1e3,if_show:1,cate_name:"",fields:"{cate_id,cate_name}"}}},operatorOptionsApi:{api:{path:"/boss/backend/admin/administrators/find-all",params:{fields:"{id,admin_name}"}}}}},watch:{"searchParams.addTime":function(){this.searchParams.addTime[0]instanceof Date?this.searchParams.add_time[0]=(this.searchParams.addTime[0].getTime()/1e3).toFixed():this.searchParams.add_time[0]="",this.searchParams.addTime[1]instanceof Date?this.searchParams.add_time[1]=(this.searchParams.addTime[1].getTime()/1e3).toFixed():this.searchParams.add_time[1]=""},"searchParams.startTime":function(){this.searchParams.startTime[0]instanceof Date?this.searchParams.start_time[0]=(this.searchParams.startTime[0].getTime()/1e3).toFixed():this.searchParams.start_time[0]="",this.searchParams.startTime[1]instanceof Date?this.searchParams.start_time[1]=(this.searchParams.startTime[1].getTime()/1e3).toFixed():this.searchParams.start_time[1]=""}},methods:{onSearch:function(){bus.$emit("on-search")},onResetTopOrderNum:function(){bus.$emit("on-reset-top-order-num")},onExportExcel:function(){bus.$emit("on-export-excel")},onBashTrash:function(){bus.$emit("on-bash-trash")},toCreatePage:function(){location.hash="/mall/catalog/goods/add"},loadDeprecatedCategoryOptions:function(t){var e=this;""!==t?(this.loadingCategories=!0,this.deprecatedCategoryOptionsApi.api.params.cate_name=t,this.$Util.api.get(this.deprecatedCategoryOptionsApi,this).then(function(t){e.loadingCategories=!1,e.categoryOptions=t.data},function(t){e.loadingCategories=!1})):this.categoryOptions=[]},loadOperators:function(){var t=this;this.$Util.api.get(this.operatorOptionsApi,this).then(function(e){t.operatorOptions=e.data},function(e){t.operatorOptions=[]})}},created:function(){var t=this;this.$nextTick(function(){t.loadOperators()})}}},"5OWp":function(t,e,a){var o=a("6qZh");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("17ab6c45",o,!0)},"62/J":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("pb2F");e.default={name:"SetOnSale",props:["goods_id","status"],data:function(){return{setStatusApi:{api:{path:"/boss/mall/catalog/goods/set-status"}}}},methods:{setStatus:function(){bus.$emit("on-loading");var t=this;this.$Util.api.post(this.setStatusApi,{goods_id:this.goods_id,status:-1===this.status?0:1===this.status?0:1}).then(function(e){bus.$emit("on-loading"),0===e.error_code?t.status=-1===t.status?0:1===t.status?0:1:bus.$emit("alert-error-tips",e.error_description?e.error_description:"发生了未知的错误")},function(e){bus.$emit("on-loading"),bus.$emit("alert-error-tips",e.message?e.message:"发生了未知的错误"),40001===e.code&&(location.hash="/mall/catalog/goods-spec/list?goods_id="+t.goods_id)})}}}},"6qZh":function(t,e,a){e=t.exports=a(0)(),e.push([t.i,"",""])},"9BY8":function(t,e,a){var o=a("aGpL");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("3365c066",o,!0)},Fsmv:function(t,e,a){var o=a("GGZj");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("ff2e6418",o,!0)},GGZj:function(t,e,a){e=t.exports=a(0)(),e.push([t.i,".operate-btn-group[data-v-00e005e4]{height:80px}.operate-btn-group li[data-v-00e005e4]{display:inline-block;margin-right:10px}",""])},GtiU:function(t,e,a){a("1Gby");var o=a("VU/8")(a("N6DA"),a("zRgn"),"data-v-fae88caa",null);t.exports=o.exports},"H/bz":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("WlnZ"),s=a.n(o),r=a("v3uO"),i=a.n(r);e.default={name:"MGoodsList",components:{MSearch:s.a,MTable:i.a},data:function(){return{baseBrandOptions:[],baseCategoryOptions:[],operatorOptions:[],data:[],selected:[],listApi:{path:"/boss/mall/catalog/goods/find-list",params:{offset:0,limit:24,type:1,shelf_status:1,goods_id:"",goods_name:"",sku:"",brand_id:[],category_id:[],cate_id:[],operator_id:"",add_time:[],start_time:[],can_use_coupon:null,recommended:null,is_private:null,is_free_shipment:null,startTime:[],is_daily:null,fields:"{goods_id,goods_name,shelf_status,is_suit,mall_price,original_price,price_grade,base_sold_count,is_private,is_top,recommend_weight,is_free_shipment,add_time,start_time,is_daily,cover{s(w:80,h:80){url,origin}},delete_time,brand{name},category{name},deprecatedCategories{cate_name},statistics{sales}}"}},pageInfoApi:{path:"/boss/mall/catalog/goods/list-page-info"},trashApi:{api:{path:"/boss/mall/catalog/goods/batch-delete"}},resetTopOrderNumApi:{api:{path:"/boss/mall/catalog/goods/reset-top-order-num"}},page:{total:0,pageSize:24,currentPage:1},loadTotal:4,loadedNum:0}},watch:{loadedNum:function(){this.loadedNum>=this.loadTotal&&(bus.$emit("on-loading"),this.loadedNum=0)}},methods:{alertErrorTips:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.$Modal.error({width:e,content:t})},alertSuccessTips:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.$Modal.success({width:a,content:t}),o&&setTimeout(function(){e.$Modal.remove()},1e4)},alertWarningTips:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.$Modal.warning({width:a,content:t}),o&&setTimeout(function(){e.$Modal.remove()},1e4)},loadBasicBrands:function(){var t=this;this.$Util.api.get({api:{path:"/boss/mall/catalog/brand/available",params:{fields:"{id,name}"}}}).then(function(e){t.loadedNum+=1,t.baseBrandOptions=e.data},function(e){t.loadedNum+=1})},loadCategoryOptions:function(){var t=this;this.$Util.api.get({api:{path:"/boss/mall/catalog/category/find-list",params:{offset:0,limit:1e3,status:[1],level:3,fields:"{id,name}"}}}).then(function(e){t.loadedNum+=1,t.baseCategoryOptions=e.data},function(e){t.loadedNum+=1})},loadOperators:function(){},loadListData:function(){var t=this;this.$Util.api.get({api:this.listApi},this).then(function(e){t.loadedNum+=1,0===e.error_code?t.data=e.data:20101===e.error_code?t.data=[]:t.alertErrorTips(e.error_description?e.error_description:"发生未知的错误",300)},function(e){t.loadedNum+=1,t.alertErrorTips(e.message?e.message:"发生未知的错误",300)})},loadPageData:function(){this.page.total=0,this.page.currentPage=1,this.pageInfoApi.params=this.listApi.params;var t=this;this.$Util.api.get({api:this.pageInfoApi},this).then(function(e){t.loadedNum+=1,0===e.error_code?t.page.total=e.data.total:t.alertErrorTips(e.error_description?e.error_description:"发生未知的错误",300)},function(e){t.loadedNum+=1,t.alertErrorTips(e.message?e.message:"发生未知的错误",300)})},doBashTrash:function(){if(this.selected.length>0){var t=this;this.$Modal.confirm({width:250,closable:!0,maskClosable:!1,content:"将对"+this.selected.length+'个商品标记为"废弃"',onOk:function(){bus.$emit("on-loading"),t.$Util.api.post(t.trashApi,{goods_id:t.selected}).then(function(e){if(bus.$emit("on-loading"),0===e.error_code){for(var a=0;a<t.data.length;a++)for(var o=0;o<t.selected.length;o++)if(t.data[a].goods_id===t.selected[o]){t.data[a].delete_time=1;break}t.alertSuccessTips("已将"+t.selected.length+'个商品标记为"废弃"')}else t.alertErrorTips(e.error_description?e.error_description:"发生了未知的错误",300)},function(e){bus.$emit("on-loading"),t.alertErrorTips(e.message?e.message:"发生了未知的错误",300)})}})}else this.alertWarningTips("请先勾选要废弃的Goods_ID")},doSearch:function(){this.data=[],this.loadTotal=2,this.listApi.params.offset=0,bus.$emit("on-loading"),this.loadListData(),this.loadPageData()},doResetTopOrderNum:function(){bus.$emit("on-loading");var t=this;this.$Util.api.get(this.resetTopOrderNumApi).then(function(e){bus.$emit("on-loading"),0===e.error_code?window.location.reload():t.alertErrorTips(e.error_description?e.error_description:"发生了未知的错误",300)},function(e){bus.$emit("on-loading"),t.alertErrorTips(e.message?e.message:"发生了未知的错误",300)})},doExportExcel:function(){var t=this.listApi.params,e="",a=function(a){if("offset"!==a&&"limit"!==a&&null!==t[a])if(t[a]instanceof Array){var o=t[a];o.forEach(function(t){e+=a+"[]="+t+"&"})}else e+=a+"="+t[a]+"&"};for(var o in t)a(o);window.open("/boss/mall/catalog/goods/export-excel?"+e)},doChangePage:function(t){this.loadTotal=1,this.page.currentPage=t,this.listApi.params.offset=(t-1)*this.listApi.params.limit,bus.$emit("on-loading"),this.loadListData()}},created:function(){var t=this;this.$nextTick(function(){bus.$emit("on-loading")}),this.loadListData(),this.loadPageData(),this.loadBasicBrands(),this.loadCategoryOptions(),this.loadOperators(),bus.$on("alert-error-tips",function(e,a){return t.alertErrorTips(e,a)}),bus.$on("on-search",function(){return t.doSearch()}),bus.$on("on-reset-top-order-num",function(){return t.doResetTopOrderNum()}),bus.$on("on-export-excel",function(){return t.doExportExcel()}),bus.$on("on-bash-trash",function(){return t.doBashTrash()}),bus.$on("on-change-page",function(e){return t.doChangePage(e)})},beforeDestroy:function(){bus.$off("alert-error-tips"),bus.$off("on-search"),bus.$off("on-reset-top-order-num"),bus.$off("on-export-excel"),bus.$off("on-bash-trash"),bus.$off("on-change-page")}}},HEJG:function(t,e,a){e=t.exports=a(0)(),e.push([t.i,".ivu-card[data-v-34a848ef]{margin-bottom:15px}.top[data-v-34a848ef]{padding:10px;background:rgba(0,153,229,.7);color:#fff;text-align:center;border-radius:2px}",""])},ICAK:function(t,e,a){a("OwLj");var o=a("VU/8")(a("H/bz"),a("OkTo"),"data-v-34a848ef",null);t.exports=o.exports},KloA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticStyle:{width:"1370px"}},[a("m-action-bar",[a("Checkbox-group",{on:{"on-change":t.changeTableColumns},model:{value:t.optionalColumnsChecked,callback:function(e){t.optionalColumnsChecked=e},expression:"optionalColumnsChecked"}},[a("span",{staticClass:"text-bold"},[t._v("显示/隐藏")]),t._v(" "),a("Checkbox",{attrs:{label:"origin_price"}},[t._v("原价")]),t._v(" "),a("Checkbox",{attrs:{label:"vip_price"}},[t._v("会员价")]),t._v(" "),a("Checkbox",{attrs:{label:"top_sort"}},[t._v("置顶排序")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.actualColumns,data:t.data,height:1985,width:1338},on:{"on-selection-change":t.selectGoods}}),t._v(" "),a("div",{staticClass:"page-bar"},[a("Page",{attrs:{current:t.page.currentPage,"page-size":t.page.pageSize,total:t.page.total,size:"small"},on:{"on-change":t.onChangePage}})],1)],1)},staticRenderFns:[]}},Lhb4:function(t,e,a){var o=a("/n5B");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("569b94bb",o,!0)},N6DA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("pb2F");e.default={name:"SetSort",props:["goods_id","sort"],data:function(){return{orderNum:0}},methods:{setSort:function(){var t=this;bus.$emit("on-loading"),this.$Modal.confirm({width:280,maskClosable:!1,render:function(e){return e("Form",{attrs:{inline:!0,labelWidth:40}},[e("Form-item",{attrs:{label:"排序"}},[e("Input-number",{props:{min:0,step:1,value:t.sort,autofocus:!0,placeholder:"请填写非负整数"},on:{input:function(e){t.orderNum=e}}}),e("span",{style:{marginLeft:"10px",color:"#aaa"},domProps:{innerHTML:"请填写非负整数"}})])])},onOk:function(){t.$Util.api.post({api:{path:"/boss/mall/catalog/goods/set-order"}},{goods_id:t.goods_id,orderNum:t.orderNum}).then(function(e){bus.$emit("on-loading"),0===e.error_code?t.sort=t.orderNum:bus.$emit("alert-error-tips",e.error_description?e.error_description:"发生了未知的错误")},function(t){bus.$emit("on-loading"),bus.$emit("alert-error-tips",t.message?t.message:"发生了未知的错误")})}})}}}},"O/eh":function(t,e,a){a("Fsmv");var o=a("VU/8")(a("Pwcb"),a("3d2I"),"data-v-00e005e4",null);t.exports=o.exports},OkTo:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-page",[a("div",[a("m-search",{attrs:{searchParams:t.listApi.params,baseBrandOptions:t.baseBrandOptions,baseCategoryOptions:t.baseCategoryOptions},on:{"update:searchParams":function(e){t.$set(t.listApi,"params",e)}}}),t._v(" "),a("m-table",{attrs:{data:t.data,page:t.page,selected:t.selected},on:{"update:selected":function(e){t.selected=e}}}),t._v(" "),a("Back-top",{attrs:{bottom:100,right:50}},[a("div",{staticClass:"top"},[t._v("返回顶端")])])],1)])},staticRenderFns:[]}},OwLj:function(t,e,a){var o=a("HEJG");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("21b82b7b",o,!0)},Pwcb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GoodsOperate",props:["goods_id","goods_name"],data:function(){return{edit:"/admin.php?m=Admin&c=MallGoods&a=edit&goods_id="+this.goods_id,addSpec:"/admin.php?m=Admin&c=MallGoods&a=addSpec&goods_id="+this.goods_id,allQuestion:"/admin.php?m=Admin&c=MallGoodsComment&a=questionLists&goods_id="+this.goods_id+"&goods_name="+this.goods_name,productParam:"/admin.php?m=Admin&c=MallGoods&a=editGoodsAttr&goods_id="+this.goods_id}},methods:{toEdit:function(){location.hash="/mall/catalog/goods/edit/"+this.goods_id},toSpecList:function(){location.hash="/mall/catalog/goods-spec/list?goods_id="+this.goods_id},toAddSpec:function(){location.hash="/mall/catalog/goods-spec/add?goods_id="+this.goods_id},toExtraAction:function(){location.hash="/mall/sale-rule/goods-extra-action/edit?goods_id="+this.goods_id},toProductParam:function(){location.hash="/mall/catalog/attribute/goods-attribute-edit?goods_id="+this.goods_id}}}},WlnZ:function(t,e,a){a("i26R");var o=a("VU/8")(a("4V4p"),a("kA7N"),"data-v-7e47a6d8",null);t.exports=o.exports},"Yz/v":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tooltip",{attrs:{content:"点击设置基数",placement:"bottom"}},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setBaseSoldCount(e)}}},[t._v("基数："+t._s(t.baseSoldCount))])])},staticRenderFns:[]}},aGpL:function(t,e,a){e=t.exports=a(0)(),e.push([t.i,"",""])},boYu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SetTop",props:["goods_id","isTop"],data:function(){return{}},computed:{tips:function(){return this.isTop?"点击取消置顶":"点击置顶"}},methods:{setTop:function(){var t=this;bus.$emit("on-loading"),this.$Util.api.post({api:{path:"/boss/mall/catalog/goods/set-top"}},{goods_id:t.goods_id,isTop:t.isTop?0:1}).then(function(e){bus.$emit("on-loading"),0===e.error_code?t.isTop=!t.isTop:bus.$emit("alert-error-tips",e.error_description?e.error_description:"发生了未知的错误")},function(t){bus.$emit("on-loading"),bus.$emit("alert-error-tips",t.message?t.message:"发生了未知的错误")})}}}},bt5z:function(t,e,a){var o=a("24dW");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("01658fc8",o,!0)},d5zK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("pb2F");e.default={name:"SetBaseSoldCount",props:["goods_id","baseSoldCount"],data:function(){return{radix:0}},methods:{setBaseSoldCount:function(){var t=this;this.$Modal.confirm({width:280,maskClosable:!1,render:function(e){return e("Form",{attrs:{inline:!0,labelWidth:40}},[e("Form-item",{attrs:{label:"基数"}},[e("Input-number",{attrs:{min:0,step:1,autofocus:!0,placeholder:"请填写非负整数",value:t.baseSoldCount},on:{input:function(e){t.radix=e}}}),e("span",{style:{marginLeft:"10px",color:"#aaa"},domProps:{innerHTML:"请填写非负整数"}})])])},onOk:function(){bus.$emit("on-loading"),t.$Util.api.post({api:{path:"/boss/mall/catalog/goods/set-radix"}},{goods_id:t.goods_id,radix:t.radix}).then(function(e){bus.$emit("on-loading"),0===e.error_code?t.baseSoldCount=t.radix:bus.$emit("alert-error-tips",e.error_description?e.error_description:"发生了未知的错误")},function(t){bus.$emit("on-loading"),bus.$emit("alert-error-tips",t.message?t.message:"发生了未知的错误")})}})}}}},fWT3:function(t,e,a){a("5OWp");var o=a("VU/8")(a("d5zK"),a("Yz/v"),"data-v-ea4babd6",null);t.exports=o.exports},gqyf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("s4cM"),s=a.n(o),r=a("fWT3"),i=a.n(r),n=a("nRA9"),l=a.n(n),c=a("GtiU"),d=a.n(c),p=a("O/eh"),u=a.n(p),m=a("ozpg"),h=a.n(m);e.default={name:"MTable",props:{data:{type:Array,default:function(){return[]}},page:{type:Object,default:function(){return{total:0,pageSize:24,currentPage:1}}},selected:{type:Array,default:function(){return[]}}},data:function(){return{columns:["checkbox","status","goods_id","goods_name","cover","origin_price","mall_price","vip_price","brand","deprecatedCategories","sales","top_sort","operate"],optionalColumns:["origin_price","vip_price","top_sort"],optionalColumnsChecked:[],actualColumns:[]}},watch:{},methods:{changeTableColumns:function(){var t=this,e={checkbox:{type:"selection",width:53,align:"center"},status:{title:"状态",key:"shelf_status",width:79,align:"center",render:function(t,e){return t(s.a,{props:{goods_id:e.row.goods_id,status:e.row.delete_time?-1:e.row.shelf_status?1:0}})}},goods_id:{title:"Goods_ID",key:"goods_id",sortable:!0,width:110,align:"center"},goods_name:{title:"商品名称",key:"goods_name",align:"center",width:200,render:function(t,e){return e.row.goods_name.length>30?t(h.a,{props:{fullText:e.row.goods_name,length:30,placement:"right"}}):t("span",{},e.row.goods_name)}},cover:{title:"商品主图",key:"cover",align:"center",width:120,render:function(t,e){return t("a",{attrs:{href:e.row.cover.s.url,target:"_blank"}},[t("img",{style:{width:"80px",height:"80px",border:"1px solid #ddd"},attrs:{src:e.row.cover.s.url}})])}},origin_price:{title:"原价",key:"original_price",sortable:!0,align:"center",width:100},mall_price:{title:"商城价",key:"mall_price",sortable:!0,align:"center",width:100},vip_price:{title:"会员价",key:"price_grade",align:"center",width:125,render:function(t,e){var a="";if(e.row.price_grade){var o=JSON.parse(e.row.price_grade);a+="银牌："+o[10]+"<br>金牌："+o[20]+"<br>白金："+o[30]}return t("span",{style:{float:"left",textAlign:"left"},domProps:{innerHTML:a}})}},brand:{title:"品牌品类",key:"is_suit",width:180,align:"center",render:function(t,e){var a=(1===e.row.is_suit?"套装":"非套装")+"<br>";return null!==e.row.brand&&e.row.brand.name?a+="品牌："+e.row.brand.name+"<br>":a+="品牌：<br>",a+="品类：",null!==e.row.category&&e.row.category.name&&(a+=e.row.category.name),t("span",{style:{float:"left",textAlign:"left"},domProps:{innerHTML:a}})}},deprecatedCategories:{title:"分类",key:"deprecatedCategories",width:200,align:"center",render:function(t,e){var a="";return e.row.deprecatedCategories&&e.row.deprecatedCategories.forEach(function(t,o){o===e.row.deprecatedCategories.length-1?a+=t.cate_name:a+=t.cate_name+", "}),a.length>25?t(h.a,{props:{fullText:a,length:25,placement:"bottom-end"}}):t("span",{},a)}},sales:{title:"销量",key:"base_sold_count",sortable:!0,width:110,align:"center",render:function(t,e){return t("span",{},[t("p",{},e.row.statistics?e.row.statistics.sales:""),t(i.a,{props:{goods_id:e.row.goods_id,baseSoldCount:e.row.base_sold_count}})])}},top_sort:{title:"置顶",key:"is_top",width:100,align:"center",render:function(t,e){return t("div",{},[t(l.a,{props:{goods_id:e.row.goods_id,isTop:1===e.row.is_top}}),t(d.a,{props:{goods_id:e.row.goods_id,sort:e.row.recommend_weight}})])}},operate:{title:"操作",key:"action",width:186,align:"center",render:function(t,e){return t(u.a,{props:{goods_id:e.row.goods_id,goods_name:e.row.goods_name}})}}},a=[];this.columns.forEach(function(o){var s=!0;t.optionalColumns.forEach(function(e){e===o&&(s=!1,t.optionalColumnsChecked.forEach(function(t){t===e&&(s=!0)}))}),s&&a.push(e[o])}),this.actualColumns=a},selectGoods:function(t){var e=this;this.selected.splice(0,this.selected.length),t.length>0&&t.forEach(function(t){return e.selected.push(t.goods_id)})},onChangePage:function(t){bus.$emit("on-change-page",t)}},created:function(){this.changeTableColumns()}}},i26R:function(t,e,a){var o=a("l/Ag");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("442f588f",o,!0)},kA7N:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticStyle:{width:"1370px"}},[a("Form",{attrs:{model:t.searchParams}},[a("Row",[a("Col",{attrs:{span:"2"}},[a("Form-item",{attrs:{label:"状态","label-width":40}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.shelf_status,callback:function(e){t.$set(t.searchParams,"shelf_status",e)},expression:"searchParams.shelf_status"}},t._l(t.statusOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Form-item",{attrs:{label:"Goods_ID","label-width":85}},[a("Input",{attrs:{placeholder:"多个ID逗号隔开"},on:{"on-enter":t.onSearch},model:{value:t.searchParams.goods_id,callback:function(e){t.$set(t.searchParams,"goods_id",e)},expression:"searchParams.goods_id"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Form-item",{attrs:{label:"商品名称","label-width":82}},[a("Input",{attrs:{placeholder:"多个搜索词逗号隔开"},on:{"on-enter":t.onSearch},model:{value:t.searchParams.goods_name,callback:function(e){t.$set(t.searchParams,"goods_name",e)},expression:"searchParams.goods_name"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Form-item",{attrs:{label:"SKU条码","label-width":82}},[a("Input",{attrs:{placeholder:"多个条码逗号隔开"},on:{"on-enter":t.onSearch},model:{value:t.searchParams.sku,callback:function(e){t.$set(t.searchParams,"sku",e)},expression:"searchParams.sku"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"品牌","label-width":40}},[a("Select",{attrs:{multiple:"",filterable:"",placeholder:"搜索品牌名"},model:{value:t.searchParams.brand_id,callback:function(e){t.$set(t.searchParams,"brand_id",e)},expression:"searchParams.brand_id"}},t._l(t.baseBrandOptions,function(e){return a("Option",{attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"品类","label-width":55}},[a("Select",{attrs:{multiple:"",filterable:"",placeholder:"搜索品类名"},model:{value:t.searchParams.category_id,callback:function(e){t.$set(t.searchParams,"category_id",e)},expression:"searchParams.category_id"}},t._l(t.baseCategoryOptions,function(e){return a("Option",{attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"分类","label-width":55}},[a("Select",{attrs:{multiple:"",filterable:"",remote:"",loading:t.loadingCategories,"remote-method":t.loadDeprecatedCategoryOptions,placeholder:"搜索分类名"},model:{value:t.searchParams.cate_id,callback:function(e){t.$set(t.searchParams,"cate_id",e)},expression:"searchParams.cate_id"}},t._l(t.categoryOptions,function(e){return a("Option",{key:e.cate_id,attrs:{value:e.cate_id}},[t._v(t._s(e.cate_name))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("Form-item",{attrs:{label:"运营","label-width":55}},[a("Select",{attrs:{filterable:"",clearable:"",placeholder:"搜索Boss账号"},model:{value:t.searchParams.operator_id,callback:function(e){t.$set(t.searchParams,"operator_id",e)},expression:"searchParams.operator_id"}},t._l(t.operatorOptions,function(e){return a("Option",{attrs:{value:e.id}},[t._v(t._s(e.admin_name))])}))],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"创建时间范围","label-width":88}},[a("Date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期和时间"},model:{value:t.searchParams.addTime,callback:function(e){t.$set(t.searchParams,"addTime",e)},expression:"searchParams.addTime"}})],1)],1),t._v(" "),t.showPart?a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{label:""}},[a("Tooltip",{attrs:{content:"点击显示全部筛选项"}},[a("Button",{staticClass:"info-text-btn",attrs:{type:"text"},on:{click:function(e){t.showPart=!1}}},[t._v("全部筛选项")])],1)],1)],1):t._e(),t._v(" "),t.showPart?t._e():a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"可用券","label-width":65}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.can_use_coupon,callback:function(e){t.$set(t.searchParams,"can_use_coupon",e)},expression:"searchParams.can_use_coupon"}},t._l(t.couponOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1),t._v(" "),t.showPart?t._e():a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"置顶","label-width":55}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.recommended,callback:function(e){t.$set(t.searchParams,"recommended",e)},expression:"searchParams.recommended"}},t._l(t.topOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1),t._v(" "),t.showPart?t._e():a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"可见","label-width":55}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.is_private,callback:function(e){t.$set(t.searchParams,"is_private",e)},expression:"searchParams.is_private"}},t._l(t.visibleOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1)],1),t._v(" "),t.showPart?t._e():a("Row",[a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{label:"包邮","label-width":40}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.is_free_shipment,callback:function(e){t.$set(t.searchParams,"is_free_shipment",e)},expression:"searchParams.is_free_shipment"}},t._l(t.freeShipmentOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"是否日常ID","label-width":75}},[a("Select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.searchParams.is_daily,callback:function(e){t.$set(t.searchParams,"is_daily",e)},expression:"searchParams.is_daily"}},t._l(t.isDailyOptions,function(e){return a("Option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"9"}},[a("Form-item",{attrs:{label:"首次上架时间范围","label-width":125}},[a("Date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期和时间"},model:{value:t.searchParams.startTime,callback:function(e){t.$set(t.searchParams,"startTime",e)},expression:"searchParams.startTime"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{label:""}},[a("Tooltip",{attrs:{content:"点击显示常用筛选项"}},[a("Button",{staticClass:"info-text-btn",attrs:{type:"text"},on:{click:function(e){t.showPart=!0}}},[t._v("常用筛选项")])],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"2"}},[a("Form-item",[a("Button",{attrs:{type:"primary",long:""},on:{click:t.onSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("Form-item",[a("Button",{staticClass:"export-btn",attrs:{type:"ghost",long:""},on:{click:t.onExportExcel}},[t._v("导出")])],1)],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("Form-item",[a("Button",{staticClass:"export-btn",attrs:{type:"ghost",long:""},on:{click:t.onResetTopOrderNum}},[t._v("重置排序")])],1)],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("Form-item",[a("Button",{staticClass:"delete-btn",attrs:{type:"ghost",long:""},on:{click:t.onBashTrash}},[t._v("废弃")])],1)],1),t._v(" "),a("Col",{attrs:{span:"2",offset:"13"}},[a("Form-item",[a("Button",{attrs:{type:"primary",long:""},on:{click:t.toCreatePage}},[t._v("新建")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},kFsO:function(t,e,a){e=t.exports=a(0)(),e.push([t.i,"",""])},kubL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Poptip",{attrs:{title:"",content:t.fullText,placement:t.placement}},[a("span",[t._v(t._s(t.ellipsisText))]),t._v(" "),a("Icon",{attrs:{type:"help-circled"}})],1)},staticRenderFns:[]}},"l/Ag":function(t,e,a){e=t.exports=a(0)(),e.push([t.i,".ivu-form>.ivu-row[data-v-7e47a6d8]:not(:last-child){margin-bottom:10px}.export-btn[data-v-7e47a6d8]{color:#2d8cf0;border-color:#2d8cf0}.delete-btn[data-v-7e47a6d8]{color:#ed3f14;border-color:#ed3f14}.info-text-btn[data-v-7e47a6d8]{color:#2d8cf0}",""])},nRA9:function(t,e,a){a("Lhb4");var o=a("VU/8")(a("boYu"),a("qyR2"),"data-v-967f6350",null);t.exports=o.exports},ozpg:function(t,e,a){a("4+54");var o=a("VU/8")(a("poi3"),a("kubL"),"data-v-86a4d12e",null);t.exports=o.exports},poi3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Ellipsis",props:{fullText:{type:String},length:{type:Number},placement:{type:String}},data:function(){return{}},computed:{ellipsisText:function(){return this.fullText.substr(0,this.length)+"..."}}}},qyR2:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tooltip",{attrs:{content:t.tips,placement:"top"}},[t.isTop?a("Button",{staticStyle:{color:"green"},attrs:{type:"text",icon:"checkmark-round"},on:{click:t.setTop}}):a("Button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"close-round"},on:{click:t.setTop}})],1)},staticRenderFns:[]}},s4cM:function(t,e,a){a("9BY8");var o=a("VU/8")(a("62/J"),a("xPAW"),"data-v-ee0335ac",null);t.exports=o.exports},v3uO:function(t,e,a){a("bt5z");var o=a("VU/8")(a("gqyf"),a("KloA"),"data-v-4da7fc64",null);t.exports=o.exports},xPAW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0===t.status?a("Tooltip",{attrs:{content:"点击上架",placement:"bottom"}},[a("Button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"close-round"},on:{click:t.setStatus}})],1):1===t.status?a("Tooltip",{attrs:{content:"点击下架",placement:"bottom"}},[a("Button",{staticStyle:{color:"green"},attrs:{type:"text",icon:"checkmark-round"},on:{click:t.setStatus}})],1):-1===t.status?a("Tooltip",{attrs:{content:"点击恢复为下架状态",placement:"bottom"}},[a("Button",{staticStyle:{"font-size":"14px"},attrs:{type:"text",icon:"trash-a"},on:{click:t.setStatus}})],1):t._e()},staticRenderFns:[]}},zRgn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tooltip",{attrs:{content:"点击设置排序",placement:"bottom"}},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setSort(e)}}},[t._v("排序："+t._s(t.sort))])])},staticRenderFns:[]}}});