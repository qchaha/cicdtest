webpackJsonp([110],{"GfH/":function(t,e,i){var n=i("VU/8")(i("fjUQ"),i("kQ1D"),null,null);t.exports=n.exports},JgMk:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("GfH/"),a=i.n(n);e.default={components:{MDownloadExcelTemplate:a.a},name:"MGoodsBatchEdit",data:function(){return{file:null,loadingStatus:!1}},methods:{handleUpload:function(t){return this.file=t,!1},resetFile:function(){this.loadingStatus=!1,this.file=null},upload:function(){this.loadingStatus=!0,bus.$emit("on-loading");var t=this,e={api:{path:"/boss/mall/catalog/goods/batch-edit"}},i=new FormData;i.append("excel_file",this.file,this.file.name),this.$Util.api.post(e,i,t).then(function(t){bus.$emit("on-loading"),this.loadingStatus=!1,this.file=null,this.$Notice.info({title:"操作结果",desc:t.data,duration:10})},function(t){bus.$emit("on-loading"),this.loadingStatus=!1,this.$Notice.error({title:"操作结果",desc:t.message})})}}}},fjUQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MDownloadExcelTemplate",data:function(){return{templateFileUrl:"",filePath:this.initialFilePath,tips:this.initialTips}},props:{initialFilePath:String,initialTips:String},methods:{alertErrorTips:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.$Modal.error({width:e,content:t})},loadExcelTemplateUrl:function(){var t=this;this.$Util.api.get({api:{path:"/admin.php?m=Admin&c=MallGoods&a=printExcelTemplateConfigUrl"}},this).then(function(e){t.templateFileUrl=e.data.url+t.filePath},function(e){t.alertErrorTips(e.message?e.message:"发生未知的错误",300)})}},created:function(){this.$nextTick(function(){this.loadExcelTemplateUrl()})}}},jxG1:function(t,e,i){var n=i("VU/8")(i("JgMk"),i("tsHN"),null,null);t.exports=n.exports},kQ1D:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{attrs:{href:t.templateFileUrl,target:"_self"}},[t._v(t._s(t.tips))])},staticRenderFns:[]}},tsHN:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("m-page-edit",[i("h3",{staticStyle:{"margin-bottom":"10px"}},[t._v("批量修改Goodsid")]),t._v(" "),i("Form",[i("Form-item",[i("Row",[t._v("\n                下载模板，填写后上传提交。可修改已有Goodsid的商品名称、上下架状态、是否包邮、是否不可见、是否不可用券。不想修改的项，对应的单元格留空\n            ")])],1),t._v(" "),i("Form-item",[i("m-download-excel-template",{attrs:{initialFilePath:"Static/excel/batch_update_goods_tpl.xls",initialTips:"下载模板"}})],1),t._v(" "),i("Form-item",{attrs:{label:"上传EXCEl表"}},[i("div",[i("Upload",{attrs:{"before-upload":t.handleUpload}},[i("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("点击上传文件")]),t._v(" "),null!==t.file?i("span",[t._v("文件："+t._s(t.file.name))]):t._e(),t._v(" "),i("span",[t._v("\n                                  \n                        每次只能修改一千个商品\n                    ")])],1)],1)]),t._v(" "),i("FormItem",[i("Button",{attrs:{type:"primary",loading:t.loadingStatus},on:{click:t.upload}},[t._v(t._s(t.loadingStatus?"提交中":"提交")+"\n            ")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.resetFile}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]}}});