webpackJsonp([225],{K9Ad:function(e,a,t){var n=t("VU/8")(t("YGdT"),t("ZIti"),null,null);e.exports=n.exports},YGdT:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={resource:{api:{path:"/boss/mall/advertising/home/tag-group-info"}}};a.default={name:"list",data:function(){return{searchTypeSource:{},addRoute:"/mall/advertising/home/category-navigator/add",api:{path:"/boss/mall/advertising/home/category-navigator/find-list",params:{fields:"{id,name,audience_name}",state:[1,2,3],position:["category_nav"]}},pageInfoApi:{path:"/boss/mall/advertising/home/category-navigator/list-page-info",params:{state:[1,2,3],position:["category_nav"]}},columns:[{title:"页面ID",key:"id"},{title:"策略标题",key:"name"},{title:"展示对象",key:"audience_name",render:function(e,a){return""===a.row.audience_name?e("div",{},"不限"):e("div",{},a.row.audience_name)}},{title:"操作",key:"action",render:function(e,a){var t=[];return[{name:"编辑",handle:function(){location.hash="/mall/advertising/home/category-navigator/edit/"+a.row.id}},{name:"复制",handle:function(){if(confirm("确定要复制这个首页配置吗?")){var e={api:{path:"/boss/mall/advertising/home/copy",params:{id:a.row.id}}};bus.$emit("on-loading"),vm.$Util.api.post(e,e.api.params,vm).then(function(e){null!=e.data?(bus.$emit("on-loading"),location.hash="/mall/advertising/home/category-navigator/edit/"+e.data):(bus.$emit("on-loading"),alert("复制失败，请联系开发人员"))},function(e){bus.$emit("on-loading"),alert(e)})}}},{name:"删除",handle:function(){confirm("你真的要确定删除吗~")&&(bus.$emit("on-loading"),vm.$Util.api.delete({api:{path:"/boss/mall/advertising/home/category-navigator/delete",params:{id:a.row.id}}},vm).then(function(){location.reload()},function(e){alert(e)}))}}].map(function(a){t.push(e("i-button",{props:{type:"text",size:"small"},on:{click:function(){a.handle()}}},[e("span",{style:{color:"#39f"}},a.name)]))}),e("div",t)}}],responseHandle:function(e){return e},searchCondition:{name:"",audience:[]},searchConditionHandle:function(e){return e}}},methods:{loadResource:function(){var e=this;this.$Util.api.get(n.resource,e).then(function(a){a.data.unshift({audience:"no_tag",title:"不限"}),e.searchTypeSource=a.data},function(a){e.$Message.warning("加载资源失败")})}},created:function(){this.$nextTick(function(){this.loadResource()})}}},ZIti:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("m-page-list",{attrs:{path:e.api.path,params:e.api.params,columns:e.columns,"response-handle":e.responseHandle,"page-info-path":e.pageInfoApi.path,"page-info-params":e.pageInfoApi.params}},[t("m-action-bar",[t("m-action-button-add",{attrs:{route:e.addRoute}})],1),e._v(" "),t("m-action-bar",{attrs:{slot:"search"},slot:"search"},[t("m-action-search-bar",{attrs:{"search-condition":e.searchCondition,"search-condition-handle":e.searchConditionHandle}},[t("m-form-item",{attrs:{label:"策略标题"}},[t("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"多个搜索词用逗号分隔"},model:{value:e.searchCondition.name,callback:function(a){e.$set(e.searchCondition,"name",a)},expression:"searchCondition.name"}})],1),e._v(" "),t("m-form-item",{attrs:{label:"展示对象"}},[t("i-select",{staticStyle:{width:"150px"},attrs:{multiple:""},model:{value:e.searchCondition.audience,callback:function(a){e.$set(e.searchCondition,"audience",a)},expression:"searchCondition.audience"}},e._l(e.searchTypeSource,function(a,n){return t("i-option",{attrs:{value:a.audience}},[e._v(e._s(a.title))])}))],1)],1)],1)],1)},staticRenderFns:[]}}});