webpackJsonp([230],{"+2J8":function(t,e,a){var n=a("VU/8")(a("Jb1A"),a("YzaM"),null,null);t.exports=n.exports},Jb1A:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{value:"1",text:"客服"},{value:"2",text:"用户"}];e.default={name:"app",data:function(){return{addRoute:"/mall/admin/custom-system-blacklist/add",api:{path:"/boss/mall/admin/customSystem/blacklist/find-list",params:{fields:"{id,from_type,chat_type,keyword,create_time,admin{admin_name}}"}},pageInfoApi:{path:"/boss/mall/admin/customSystem/blacklist/list-page-info",params:{}},types:n,searchCondition:{keyword:"",from_type:[]},columns:[{title:"ID",key:"id"},{title:"消息内容",key:"keyword"},{title:"消息发送者",key:"from_type"},{title:"消息类型",key:"chat_type"},{title:"更新时间",key:"create_time"},{title:"更新人",key:"admin",render:function(t,e){return t("div",{},e.row.admin.admin_name)}},{title:"操作",key:"action",render:function(t,e){var a=[];return[{name:"编辑",handle:function(){location.hash="/mall/admin/custom-system-blacklist/edit/"+e.row.id}},{name:"删除",handle:function(){confirm("删除此条配置, 不会影响历史统计数据")&&(bus.$emit("on-loading"),vm.$Util.api.delete({api:{path:"/boss/mall/admin/customSystem/blacklist/delete",params:{id:e.row.id}}},vm).then(function(){location.reload()},function(t){alert(t)}))}}].map(function(e){a.push(t("i-button",{props:{type:"text",size:"small"},on:{click:function(){e.handle()}}},[t("span",{style:{color:"#39f"}},e.name)]))}),t("div",a)}}],responseHandle:function(t,e){var a=t.data;for(var n in a)a[n].create_time=e.$Util.dateFormat(a[n].create_time,"yyyy-MM-dd<br>hh:mm:ss"),1==a[n].from_type?a[n].from_type="客服":2==a[n].from_type&&(a[n].from_type="用户"),1==a[n].chat_type?a[n].chat_type="非咨询":2==a[n].chat_type&&(a[n].chat_type="售后");return t}}}}},YzaM:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-page-list",{attrs:{path:t.api.path,params:t.api.params,columns:t.columns,"response-handle":t.responseHandle,"page-info-path":t.pageInfoApi.path,"page-info-params":t.pageInfoApi.params}},[a("m-action-bar",[a("m-action-button-add",{attrs:{route:t.addRoute}})],1),t._v(" "),a("m-action-bar",{attrs:{slot:"search"},slot:"search"},[a("m-action-search-bar",{attrs:{"search-condition":t.searchCondition}},[a("m-form-item",{attrs:{label:"消息内容"}},[a("Input",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:t.searchCondition.keyword,callback:function(e){t.$set(t.searchCondition,"keyword",e)},expression:"searchCondition.keyword"}})],1),t._v(" "),a("Select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{multiple:"",placeholder:"消息发送者"},model:{value:t.searchCondition.from_type,callback:function(e){t.$set(t.searchCondition,"from_type",e)},expression:"searchCondition.from_type"}},t._l(t.types,function(e){return a("Option",{key:e,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1)],1)],1)},staticRenderFns:[]}}});